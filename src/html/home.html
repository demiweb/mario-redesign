<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"/>
    <title>Mario</title>
    <link rel="stylesheet" href="../css/styles.css">
    <script src="../scripts/lazysizes.min.js" async></script>
</head>
<body>
<header class="mario-header">
    <div class="container">
        <div class="mario-header__container">
            <a href="" class="mario-header__logo">
                <img class="lazyload" data-src="../img/logo-mario-white.png" alt="Mario">
            </a>
            <div class="mario-header__burger-btn-mob">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <nav class="mario-header__header-navigation">
                <ul>
                    <li><a href="#">Продукція</a></li>
                    <li><a href="#">Для партнерів</a></li>
                    <li><a href="#">Підтримка</a></li>
                    <li><a href="#">Контакти</a></li>
                    <li><a href="#">Де купити?</a></li>
                </ul>

                <div class="mario-header__site-language">
                    <a href="#">ua</a>
                    <ul>
                        <li><a href="#">ru</a></li>
                        <li><a href="#">ua</a></li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>
</header>
<main class="mario-main">
    <section class="mario-main__video-banner" style="z-index: 2">
        <div class="video-banner__video-container">
            <video style="width: 100%; height: 100%; object-fit: cover; z-index: 0"
                   src="../video/videoplayback%20(online-video-cutter.com).mp4"
                   autoplay="" muted="" loop="" playsinline="" data-loaded="true"></video>
        </div>
        <div class="container">
            <h1 class="anim-fading-out" style="z-index: 10;">Тепло сімейного бізнесу. Вашій родині.</h1>
        </div>

    </section>
    <section class="mario-main__mario-features">
        <div class="container">
            <div class="mario-features__container">
                <ul class="anim-fading-out">
                    <li>
                        <div>
                            <img class="lazyload" data-src="../img/medal.svg" alt="Medal">
                        </div>
                        <p>Высококачественное сырье</p>
                    </li>
                    <li>
                        <div>
                            <img class="lazyload" data-src="../img/checklist.svg" alt="Checklist">
                        </div>
                        <p>Большой ассортимент продукции</p>
                    </li>
                    <li>
                        <div>
                            <img class="lazyload" data-src="../img/contract.svg" alt="Contract">
                        </div>
                        <p>Гарантия на товар 50 лет</p>
                    </li>
                    <li>
                        <div>
                            <img class="lazyload" data-src="../img/arrow.svg" alt="Recycling">
                        </div>
                        <p>Экологичное производство</p>
                    </li>
                    <li>
                        <div>
                            <img class="lazyload" data-src="../img/wire.svg" alt="Wire">
                        </div>
                        <p>Контроль баланса мощности</p>
                    </li>
                </ul>
            </div>
        </div>
    </section>
    <section class="mario-main__mario-products-type">
        <div class="mario-products-type__container">
            <div class="mario-products-type__single-type">
                <section class="mario-main__video-banner" style="z-index: 2">
                    <div class="video-banner__video-container">
                        <video style="width: 100%; height: 100%; object-fit: cover; z-index: 0"
                               src="../video/0050-0200.mp4"
                               muted="" loop="" playsinline="" data-loaded="true"></video>
                    </div>
                    <div class="mario-products-type__title-side anim-fading-out">
                        <h2>Електричні</h2>
                        <p>рушникосушарки</p>
                        <div class="mario-products__quality-icons">
                            <ul>
                                <li><img src="../img/quality-svg.svg" alt=""></li>
                                <li><img src="../img/quality-svg-2.svg" alt=""></li>
                                <li><img src="../img/quality-svg-3.svg" alt=""></li>
                                <li><img src="../img/quality-svg-4.svg" alt=""></li>
                                <li><img src="../img/quality-svg-5.svg" alt=""></li>
                            </ul>
                        </div>
                    </div>
                </section>
            </div>
            <div class="mario-products-type__right-side">
                <div class="mario-products-type__single-type">
                    <section class="mario-main__video-banner" style="z-index: 2">
                        <div class="video-banner__video-container">
                            <video style="width: 100%; height: 100%; object-fit: cover; z-index: 0"
                                   src="../video/videoplayback.mp4"
                                   muted="" loop="" playsinline="" data-loaded="true"></video>
                        </div>
                        <div class="mario-products-type__title-side anim-fading-out">
                            <h2>Водяні</h2>
                            <p>рушникосушарки</p>
                            <div class="mario-products__quality-icons">
                                <ul>
                                    <li><img src="../img/quality-svg.svg" alt=""></li>
                                    <li><img src="../img/quality-svg-2.svg" alt=""></li>
                                    <li><img src="../img/quality-svg-3.svg" alt=""></li>
                                    <li><img src="../img/quality-svg-4.svg" alt=""></li>
                                    <li><img src="../img/quality-svg-5.svg" alt=""></li>
                                </ul>
                            </div>
                        </div>
                    </section>
                </div>
                <div class="mario-products-type__single-type">
                    <section class="mario-main__video-banner" style="z-index: 2">
                        <div class="video-banner__video-container">
                            <video style="width: 100%; height: 100%; object-fit: cover; z-index: 0"
                                   src="../video/videoplayback.mp4"
                                   muted="" loop="" playsinline="" data-loaded="true"></video>
                        </div>
                        <div class="mario-products-type__title-side anim-fading-out">
                            <h2>Аксесуари</h2>
                            <p>до рушникосушарки</p>

                        </div>
                    </section>
                </div>

            </div>
        </div>

    </section>
    <section class="mario-main__mario-safety">
        <div class="mario-safety__bg-dark"></div>
        <div class="container">
            <h1>надійність</h1>
            <div class="mario-safety__text-block">
                <h2 class="anim-fading-out">Mario стремится обеспечить абсолютную надежность и работоспособность
                    продукта.</h2>
                <p class="anim-fading-out">Сьогодні потужне підприємство «Маріо» розташовується на площі близько 10 000
                    кв. метрів, має точне
                    спеціалізоване обладнання, програмоване кваліфікованим персоналом, великі складські приміщення і
                    високий рівень постійного контролю якості всіх виробів на виробництві.</p>
            </div>
        </div>
    </section>

    <section class="mario-main__mario-innovation">
        <section class="mario-main__video-banner" style="z-index: 2">
            <div class="video-banner__video-container">
                <video style="width: 100%; height: 100%; object-fit: cover; z-index: 0" src="../video/0001-0200.mp4"
                       muted="" loop="" playsinline="" data-loaded="true"></video>
            </div>
            <div class="container">
                <h2 class="anim-fading-out">Мы являемся новаторами в области электрических полотенцесушителей</h2>
                <p class="anim-fading-out">Надаємо консультації менеджерів для збільшення продажів товару у вашому регіоні. Звичайно, це в наших
                    інтересах, адже ваші доходи - це і наші доходи</p>
            </div>

        </section>
    </section>
    <section class="mario-main__picture-bg-banner">
        <div class="container">
            <h1 class="anim-fading-out">Сделай ванную зоной своего комфорта</h1>
        </div>
    </section>
    <section class="mario-main__partner-block">
        <div class="partner-block__container">
            <div class="partner-block__half-container">
                <div class="partner-block__single-block">
                    <img class="lazyload img-parall" data-src="../img/partners-bg.jpg" alt="Picture">
                </div>
                <div class="partner-block__single-block partner-block__single-block--text">
                    <section class="partner-block__text-part">
                        <h3 class="anim-fading-out">As a financial institution, a key element that really inspired us to go with iPad was the
                            fact that security was already integrated into the device</h3>
                        <p class="anim-fading-out">Eric Marineau</p>
                        <p class="anim-fading-out">Director, Mobile Centre of Excellence</p>
                        <div class="partner-block__text-container">
                            <div class="text-container__amount-transaction">
                                <p class="anim-fading-out"><strong>2</strong>k</p>
                                <p class="anim-fading-out">loans transacted annually</p>
                            </div>
                            <div class="text-container__amount-transaction">
                                <p class="anim-fading-out"><strong>16</strong>k</p>
                                <p class="anim-fading-out">loans transacted annually</p>
                            </div>

                        </div>
                        <a class="mario-button" href="#">Як стати партнером?</a>
                    </section>
                </div>
                <div class="partner-block__partners-logos" id="marqueeline-logos">
                    <ul>
                        <li><img src="../img/normal__agromat-logo-17.png" alt="Агромат"></li>
                        <li><img src="../img/epicentrk_logo.png" alt="Епицентр"></li>
                        <li><img src="../img/logo.png" alt="Новая Линия"></li>
                        <li><img src="../img/thumbnail2x_Leroy_Merlin.png" alt="Леруа Мерлен"></li>
                        <li><img src="../img/normal__agromat-logo-17.png" alt="Агромат"></li>
                        <li><img src="../img/epicentrk_logo.png" alt="Епицентр"></li>
                        <li><img src="../img/logo.png" alt="Новая Линия"></li>
                        <li><img src="../img/thumbnail2x_Leroy_Merlin.png" alt="Леруа Мерлен"></li>
                        <li><img src="../img/normal__agromat-logo-17.png" alt="Агромат"></li>
                        <li><img src="../img/epicentrk_logo.png" alt="Епицентр"></li>
                        <li><img src="../img/logo.png" alt="Новая Линия"></li>
                        <li><img src="../img/thumbnail2x_Leroy_Merlin.png" alt="Леруа Мерлен"></li>
                        <li><img src="../img/normal__agromat-logo-17.png" alt="Агромат"></li>
                    </ul>
                </div>
            </div>
        </div>

    </section>
</main>
<footer class="mario-footer">
    <section class="mario-footer__footer-top">
        <div class="container">
            <div class="footer-top__container">
                <a class="footer-top__logo-container" href="#">
                    <img class="lazyload" data-src="../img/mario-logo.png" alt="Logo">
                </a>
                <div class="footer-top__list-container">
                    <h4>Продукція</h4>
                    <ul>
                        <li><a href="#">Водяні</a></li>
                        <li><a href="#">Електричні</a></li>
                        <li><a href="#">Аксесуари</a></li>
                    </ul>
                </div>
                <div class="footer-top__list-container">
                    <h4>Для парнерів</h4>
                    <ul>
                        <li><a href="#">Корисна інформація</a></li>
                        <li><a href="#">Система знижок</a></li>
                        <li><a href="#">Навчання персоналу</a></li>
                        <li><a href="#">Брендування торгівельної точки</a></li>
                    </ul>
                </div>
                <div class="footer-top__list-container footer-top__list-container--contacts">
                    <h4>Контакты</h4>
                    <ul>
                        <li><p><strong>0 800 474-05-39</strong></p></li>
                        <li><a href="mailto:partner@mario.ua">partner@mario.ua</a></li>
                        <li><p>Вінницька обл., Україна, <br>
                            22300 Сосонське шосе, 4-В, смт. Літин</p></li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    <section class="mario-footer__footer-bottom">
        <div class="container">
            <div class="footer-bottom__container">
                <div class="footer-bottom__creation-date-copyright">
                    <p>Працюємо з 21 листопада 1998 р</p>
                    <span></span>
                    <p>2020 © Усі права захищені</p>
                </div>

                <div class="footer-bottom__mario-docs">
                    <a href="#">Політика конфіденційності</a>
                    <span></span>
                    <a href="#">Угода з кінцевим користувачем</a>
                    <span></span>
                    <a href="#">Гарантія</a>
                </div>
            </div>
        </div>
    </section>


</footer>
<script>

    let imgPar = [...document.querySelectorAll('.img-parall')];

    function parallaxImg() {
        imgPar.forEach((img) => {
            let spaceBellow = window.innerHeight - img.getBoundingClientRect().bottom + img.offsetHeight;

            let topDistance = img.getBoundingClientRect().top + img.offsetHeight;

            let imgHeight = img.offsetHeight;

            let percent = spaceBellow / 80;

            if (0 < spaceBellow && topDistance > 150) {
                console.log('picture visible')

                img.style.transform = `translate(0, ${percent}%)`
            }

        })
    }



    const videosBlock = [...document.querySelectorAll('.mario-products-type__single-type')];
    let allAnimFade = [...document.querySelectorAll(".anim-fading-out")];

    function checkWidthToBottom() {
        allAnimFade.forEach((el, i) => {
            let spaceBellow = window.innerHeight - el.getBoundingClientRect().bottom + el.offsetHeight;
            let topDistance = el.getBoundingClientRect().top + el.offsetHeight;
            if (60 < spaceBellow && topDistance > 250 ) {
                el.style.animation = 'fadingOutTop 0.8s linear';
                el.style.animationDelay = `${(25 * i)}ms`
                let timeOut = 800 + (20 * i);
                setTimeout(() => {
                    el.classList.remove('anim-fading-out');

                }, timeOut)

            }
        })
    }

    window.addEventListener('load', () => {
        checkWidthToBottom();
        parallaxImg();
    })

    videosBlock.forEach(videoBlock => {
        let video = [...videoBlock.querySelectorAll('video')][0];
        videoBlock.addEventListener("mouseover", function () {
            video.play()
        })
        videoBlock.addEventListener("mouseout", function () {
            video.pause();
        })
        videoBlock.addEventListener("touchstart", function () {
            video.play()
        })
        videoBlock.addEventListener("touchend", function () {
            video.pause()
        })
    })
    let headerMario = [...document.querySelectorAll('.mario-header')][0];


    let afterBlock = [...document.querySelectorAll('.mario-main__mario-safety')][0];
    let videoBlock = [...document.querySelectorAll('.mario-main__mario-innovation')][0];
    let videoVideo = [...document.querySelectorAll('.mario-main__mario-innovation video')][0];
    let safetyP = [...document.querySelectorAll('.mario-main__mario-safety p')][0];
    let afterBlockBg = [...document.querySelectorAll('.mario-safety__bg-dark')][0];

    let currentBgHeader = '';
    let currentBgAfter = '0.0';


    function isInViewport() {
        let rect = afterBlock.getBoundingClientRect();
        let vB = videoBlock.getBoundingClientRect();
        let h = afterBlock.scrollHeight;

        function getVideoBlock() {
            let vB = videoBlock.getBoundingClientRect();

            if (578 < document.body.clientWidth && document.body.clientWidth < 768) {
                if (vB.top < 500 && -400 < vB.top) {
                    videoVideo.play();

                } else {
                    videoVideo.pause();

                }
            } else if (document.body.clientWidth < 578) {
                if (vB.top < 400 && -300 < vB.top) {
                    videoVideo.play();

                } else {
                    videoVideo.pause();

                }
            } else {
                if (vB.top < 500 && -500 < vB.top) {
                    videoVideo.play();

                } else {
                    videoVideo.pause();

                }
            }

        }

        if (578 < document.body.clientWidth && document.body.clientWidth < 768) {
            if (rect.top < 80) {
                let opacityBg = ((-rect.top + 80) / h) * 1.4;
                if (opacityBg > 1) {
                    afterBlockBg.style.opacity = '1';
                    safetyP.style.opacity = '0';
                } else {
                    afterBlockBg.style.opacity = opacityBg;
                    safetyP.style.opacity = 1 - opacityBg;
                }
            } else {
                afterBlockBg.style.opacity = '0';
                safetyP.style.opacity = '1';
            }
            getVideoBlock();
        } else if (document.body.clientWidth < 578) {
            if (rect.top < 25) {
                let opacityBg = ((-rect.top + 100) / h) * 1.6;
                if (opacityBg > 1) {
                    afterBlockBg.style.opacity = '1';
                    safetyP.style.opacity = '0';
                } else {
                    afterBlockBg.style.opacity = opacityBg;
                    safetyP.style.opacity = 1 - opacityBg;
                }

            } else {
                afterBlockBg.style.opacity = '0';
                safetyP.style.opacity = '1';
            }
            getVideoBlock();
        } else {
            if (rect.top < -220) {
                let opacityBg = ((-rect.top) / h) * 1.6;
                if (opacityBg > 1) {
                    afterBlockBg.style.opacity = '1';
                    safetyP.style.opacity = '0';
                } else {
                    afterBlockBg.style.opacity = opacityBg;
                    safetyP.style.opacity = 1 - opacityBg;
                }


            } else {
                afterBlockBg.style.opacity = '0';
                safetyP.style.opacity = '1';
            }
            getVideoBlock();
        }

    }

    window.onscroll =
        window.onload = function () {
            let scrollTop = window.pageYOffset ? window.pageYOffset : (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop);
            let boxLeft = 750 - scrollTop;
            let percentGrad = boxLeft / 10;
            headerMario.style.background = `linear-gradient(180deg, rgba(0,0,0,1) ${100 - percentGrad}%, rgba(255,255,255,0) 100%)`;
            currentBgHeader = headerMario.style.background;
        }

    window.onscroll = function () {
        isInViewport();
        checkWidthToBottom();
        parallaxImg();
        let scrollTop = window.pageYOffset ? window.pageYOffset : (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop);
        let boxLeft = 750 - scrollTop;
        let percentGrad = boxLeft / 10;
        headerMario.style.background = `linear-gradient(180deg, rgba(0,0,0,1) ${100 - percentGrad}%, rgba(255,255,255,0) 100%)`;
        currentBgHeader = headerMario.style.background;
    }


    let headerList = [...document.querySelectorAll('.mario-header__header-navigation > ul > li')];
    let headerLanguage = [...document.querySelectorAll('.mario-header__site-language > a ')][0];
    let headerLanguageCont = [...document.querySelectorAll('.mario-header__site-language')][0];
    let headerBurgerBtn = [...document.querySelectorAll('.mario-header__burger-btn-mob')][0];
    let headerNav = [...document.querySelectorAll('.mario-header__header-navigation')][0];
    let burgerBtn = [...document.querySelectorAll('.mario-header__burger-btn-mob')][0];
    let currentHeight = document.body.clientHeight;
    window.addEventListener('resize', () => {
        if (document.body.clientWidth > 768) {
            headerList.forEach((li) => {
                li.style.opacity = '1';
            })
            document.body.classList.remove('scroll-hidden');
            headerMario.style.background = currentBgHeader;
        } else if (document.body.clientWidth < 768) {
            if (headerBurgerBtn.classList.contains('active-burger-btn')) {
                document.body.classList.add('scroll-hidden');
                headerMario.style.background = 'black';

                if (currentHeight !== document.body.clientHeight || currentHeight === document.body.clientHeight) {

                } else {

                    headerList.forEach((li) => {
                        li.style.opacity = '0';
                    })
                }
            } else {
                headerMario.style.background = currentBgHeader;
                headerList.forEach((li) => {
                    li.style.opacity = '0';
                })
            }


        }
    })

    function liVisibility() {
        headerList.forEach((li, i) => {
            li.style.transform = 'translate(0, 25px)';
            li.style.opacity = '0';

            li.style.animation = '';
            if (!burgerBtn.classList.contains('active-burger-btn')) {
                li.style.opacity = '0';
                li.style.animation = '';
                headerLanguageCont.style.opacity = '0';


            } else {
                setTimeout(() => {

                    li.style.opacity = '1';
                    let time = 100 * (i + 1);
                    li.style.transform = 'translate(0, 25px)';
                    li.style.opacity = '0';
                    setTimeout(() => {
                        li.style.animation = 'fadeingTopLi 0.6s ease-in-out';
                        headerLanguageCont.style.opacity = '1';
                    }, time);

                    setTimeout(() => {
                        li.style.transform = 'translate(0, 0)';
                        li.style.opacity = '1';
                        li.style.animation = '';
                    }, time)

                }, 400)
            }


        })

    }

    document.addEventListener('click', (e) => {
        if (!e.target.closest('.dropdown-open-lang')) {
            headerLanguage.classList.remove('dropdown-open-lang');
        } else {
        }
    })
    headerLanguage.addEventListener('click', () => {
        headerLanguage.classList.toggle('dropdown-open-lang');
    })

    burgerBtn.addEventListener('click', () => {
        burgerBtn.classList.toggle('active-burger-btn');
        document.body.classList.toggle('scroll-hidden');
        headerNav.style.animation = 'navFading 0.4s linear'

        if (!burgerBtn.classList.contains('active-burger-btn')) {
            headerNav.style.animation = 'navFadingReverse 0.4s linear';
            headerList.forEach((li) => {
                li.style.opacity = '0';
                li.style.animation = '';
                headerLanguageCont.style.opacity = '0';
            })
            headerMario.style.background = currentBgHeader;
        } else {
            liVisibility();
            headerMario.style.background = 'black';
        }


    })
</script>
</body>
</html>